varying vec4 projCoord[MAPS];
varying vec2 diffuseCoord;
uniform vec3 lLightPos;

void main()
{
  vec3 lLightDir = normalize(lLightPos - gl_Vertex.xyz);
  gl_FrontColor = vec4(dot(lLightDir, gl_Normal));

  for(int i=0;i<MAPS;i++)
    projCoord[i] = gl_TextureMatrix[i] * gl_Vertex;

  diffuseCoord = gl_MultiTexCoord0.xy;
  
  gl_Position = ftransform();
}
