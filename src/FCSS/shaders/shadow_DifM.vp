varying vec4 projCoord;
varying vec2 diffuseCoord;
uniform vec3 lLightPos;

void main()
{
  projCoord = gl_TextureMatrix[0] * gl_Vertex;

  vec3 lLightDir = normalize(lLightPos - gl_Vertex.xyz);
  gl_FrontColor = dot(lLightDir, gl_Normal);

  diffuseCoord = gl_MultiTexCoord0.xy;
  
  //gl_Position = gl_ModelViewProjectionMatrix * gl_Vertex;
  gl_Position = ftransform();
}
